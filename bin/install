#!/bin/bash
#
# Installation script

set -e

if [[ ! -f setup.py ]]; then
  echo "ERROR: setup.py not found; run from the package root directory."
  exit 1
fi

# Install the Python package, removing the existing one first to
# ensure updated package gets installed.
cmd="import sys; sys.path.remove(''); import pyrediq"
if python -c "$cmd" 2> /dev/null; then
  pip uninstall -y pyrediq
fi

pip install .
